schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw/bank_data.csv
      hash: md5
      md5: 70791dd0bf0c6e30089daa82560fca01
      size: 89659
    - path: src/preprocess.py
      hash: md5
      md5: 0cbb38dd2de471406e3cd430e2bb8244
      size: 420
    outs:
    - path: data/processed/bank_data.csv
      hash: md5
      md5: 1d913ee7e3acf2fcb12704a5813f80b8
      size: 89663
  train:
    cmd: python src/train.py 1000
    deps:
    - path: data/processed/bank_data.csv
      hash: md5
      md5: 1d913ee7e3acf2fcb12704a5813f80b8
      size: 89663
    - path: src/train.py
      hash: md5
      md5: 085c0f4532584ce214bc823fa4ae67b4
      size: 2497
    params:
      params.yaml:
        threshold: 1000
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 3f3e4cffb9e190ac4a9dcb93789ceed1
      size: 487
    - path: models/ols_model.pkl
      hash: md5
      md5: ca1c1419f2a2e3a93ca1ded674d7ba17
      size: 168804
  evaluate_rdd:
    cmd: python src/evaluate_rdd.py 1000 150
    deps:
    - path: data/processed/bank_data.csv
      hash: md5
      md5: 1d913ee7e3acf2fcb12704a5813f80b8
      size: 89663
    - path: src/evaluate_rdd.py
      hash: md5
      md5: 9918c91b9839798767e9e6b03e05a846
      size: 3859
    params:
      params.yaml:
        bandwidth: 150
        threshold: 1000
    outs:
    - path: metrics/rdd_eval_t1000_bw150.json
      hash: md5
      md5: a3efa7614a77bdbbeacf459b02db0470
      size: 562
  evaluate_roi:
    cmd: python src/evaluate_roi.py 1000 150 150
    deps:
    - path: metrics/rdd_eval_t1000_bw150.json
      hash: md5
      md5: a3efa7614a77bdbbeacf459b02db0470
      size: 562
    - path: src/evaluate_roi.py
      hash: md5
      md5: 2fb527b26543e92aebad0642277d8c7e
      size: 1329
    params:
      params.yaml:
        bandwidth: 150
        extra_recovery_cost: 150
        threshold: 1000
    outs:
    - path: metrics/roi_t1000_bw150.json
      hash: md5
      md5: 9ebd513facfd88a320454cdc4baf7098
      size: 196
